{%- assign page_paths = site.pages | map: "path" -%}
<ul class="collection-list">
    {%- for path in page_paths -%}
        {%- assign my_page = site.pages | where: "path", path | first -%}
        {%- if my_page.collection == "projects" -%}
                <li>
                    <a href="{{ my_page.url | relative_url }}">
                        {%- if my_page.cover -%}
                            <div class="cover">
                                <img src="{{ my_page.cover | relative_url}}" />
                            </div>
                        {%- endif -%}
                        {{ my_page.title | escape }}
                    </a>
                </li>
        {%- endif -%}
    {%- endfor -%}
</ul>